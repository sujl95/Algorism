SELECT C1.NAME AS NAME_X, C2.NAME AS NAME_Y , COUNT(C1.CART_ID) AS 장바구니수
FROM(
SELECT CART_ID, NAME
FROM cart_products1
GROUP BY CART_ID, NAME
) C1
CROSS JOIN
(
SELECT CART_ID, NAME
FROM cart_products1
GROUP BY CART_ID, NAME
) C2
WHERE C1.NAME != C2.NAME AND C1.CART_ID = C2.CART_ID
GROUP BY C1.NAME , C2.NAME
ORDER BY C1.NAME, C2.NAME
;